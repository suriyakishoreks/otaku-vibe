import{r as j,j as e,L,R as z}from"./default-vendor-BUfURK-0.js";import{S as k,A as E,f as A,a as B}from"./swiper-BkFslP5X.js";import{S as M,H,I as D,a as O}from"./ImageCard-D7_f-nno.js";import{i as S,I as P,L as v}from"./index-BEG4dcT7.js";import{e as w}from"./utility-vendor-Dwq46G1b.js";function U({threshold:i=0,root:n=null,rootMargin:r="0%",freezeOnceVisible:o=!1,initialIsIntersecting:d=!1,onChange:c}={}){var N;const[s,x]=j.useState(null),[l,g]=j.useState(()=>({isIntersecting:d,entry:void 0})),u=j.useRef(null);u.current=c;const p=((N=l.entry)==null?void 0:N.isIntersecting)&&o;j.useEffect(()=>{if(!s||!("IntersectionObserver"in window)||p)return;const _=new IntersectionObserver(a=>{const y=Array.isArray(_.thresholds)?_.thresholds:[_.thresholds];a.forEach(b=>{const I=b.isIntersecting&&y.some(R=>b.intersectionRatio>=R);g({isIntersecting:I,entry:b}),u.current&&u.current(I,b)})},{threshold:i,root:n,rootMargin:r});return _.observe(s),()=>{_.disconnect()}},[s,JSON.stringify(i),n,r,p,o]);const h=j.useRef(null);j.useEffect(()=>{var _;!s&&((_=l.entry)!=null&&_.target)&&!o&&!p&&h.current!==l.entry.target&&(h.current=l.entry.target,g({isIntersecting:d,entry:void 0}))},[s,l.entry,o,p,d]);const m=[x,!!l.isIntersecting,l.entry];return m.ref=m[0],m.isIntersecting=m[1],m.entry=m[2],m}const Y=({children:i,rootMargin:n="0px 0px 250px 0px",threshold:r=0,estimatedHeight:o,wrapperClassName:d})=>{const[c,s]=U({root:null,rootMargin:n,threshold:r,freezeOnceVisible:!0});return e.jsx("div",{ref:c,style:s?void 0:{height:o},className:d,children:s?i:null})},Z="_swiper_1jtne_1",$="_swiper__slide_1jtne_4",C={swiper:Z,swiper__slide:$};function G({onSwiper:i,onSlideChange:n,type:r="scroll",children:o}){const d=r==="centered"?[E]:[A];return e.jsx(k,{onSwiper:i,onSlideChange:n,slidesPerView:"auto",slidesPerGroupAuto:r==="scroll",freeMode:r==="scroll",centeredSlides:r==="centered",loop:r==="centered",spaceBetween:24,autoplay:r==="centered"?{pauseOnMouseEnter:!0,delay:3e3}:void 0,className:C.swiper,modules:d,children:o.map(c=>e.jsx(B,{className:C.swiper__slide,children:c}))})}const f={"horizontal-carousel":"_horizontal-carousel_1je16_158","horizontal-carousel__header":"_horizontal-carousel__header_1je16_161","horizontal-carousel__heading":"_horizontal-carousel__heading_1je16_166","horizontal-carousel__nav":"_horizontal-carousel__nav_1je16_169","horizontal-carousel__nav-button":"_horizontal-carousel__nav-button_1je16_179","horizontal-carousel__nav-button-left":"_horizontal-carousel__nav-button-left_1je16_206","horizontal-carousel__nav-button-right":"_horizontal-carousel__nav-button-right_1je16_209"};function J({size:i,color:n}){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:i,viewBox:"0 -960 960 960",width:i,transform:"rotate(180)",fill:S(n),children:e.jsx("path",{d:"m321-80-71-71 329-329-329-329 71-71 400 400L321-80Z"})})}function T({size:i,color:n}){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:i,viewBox:"0 -960 960 960",width:i,fill:S(n),children:e.jsx("path",{d:"m321-80-71-71 329-329-329-329 71-71 400 400L321-80Z"})})}const t={"media-detail-card":"_media-detail-card_1ufmn_158","media-detail-card__image-container":"_media-detail-card__image-container_1ufmn_179","media-detail-card__image-gradient":"_media-detail-card__image-gradient_1ufmn_182","media-detail-card__top-overlay":"_media-detail-card__top-overlay_1ufmn_198","media-detail-card__rating":"_media-detail-card__rating_1ufmn_209","media-detail-card__favorite":"_media-detail-card__favorite_1ufmn_215","media-detail-card__image":"_media-detail-card__image_1ufmn_179","media-detail-card__content":"_media-detail-card__content_1ufmn_233","media-detail-card__title":"_media-detail-card__title_1ufmn_246","media-detail-card__summary":"_media-detail-card__summary_1ufmn_264","media-detail-card__status":"_media-detail-card__status_1ufmn_278","media-detail-card__genre-item":"_media-detail-card__genre-item_1ufmn_285","media-detail-card__genre":"_media-detail-card__genre_1ufmn_285","media-detail-card__clickable":"_media-detail-card__clickable_1ufmn_302"};function q({src:i,alt:n,navigateTo:r,title:o,summary:d,ratings:c,favorites:s,status:x,genres:l}){const g=e.jsxs("div",{className:w(t["media-detail-card"],"no-text-select",{[t["media-detail-card__clickable"]]:r}),children:[e.jsxs("div",{className:t["media-detail-card__image-container"],children:[e.jsx("div",{className:t["media-detail-card__image-gradient"]}),e.jsx(P,{src:i,alt:n,className:t["media-detail-card__image"]}),(!!c||!!s)&&e.jsxs("div",{className:t["media-detail-card__top-overlay"],children:[!!c&&e.jsxs("div",{className:t["media-detail-card__rating"],children:[e.jsx(M,{color:"s-color-fg-primary",size:16}),e.jsx(v,{as:"p",font:"typo-primary-s-semibold",children:c})]}),!!s&&e.jsxs("div",{className:t["media-detail-card__favorite"],children:[e.jsx(H,{color:"s-color-fg-primary",size:16}),e.jsx(v,{as:"p",font:"typo-primary-s-semibold",children:s})]})]})]}),e.jsxs("div",{className:t["media-detail-card__content"],children:[e.jsx(v,{as:"h4",font:"typo-primary-l-medium",className:t["media-detail-card__title"],children:o}),!!d&&e.jsx(v,{as:"p",font:"typo-primary-m-regular",className:t["media-detail-card__summary"],children:d}),!!x&&e.jsx(v,{as:"p",font:"typo-primary-m-regular",className:t["media-detail-card__status"],children:x}),!!l&&l.length>0&&e.jsx("div",{className:t["media-detail-card__genre"],children:l.map(u=>e.jsx(v,{as:"p",font:"typo-primary-m-regular",className:t["media-detail-card__genre-item"],children:u},u))})]})]});return r?e.jsx(L,{to:r,children:g}):g}function F(){return e.jsxs("div",{className:w(t["media-detail-card"]),children:[e.jsx("div",{className:t["media-detail-card__image-container"],children:e.jsx("div",{className:w(t["media-detail-card__image"])})}),e.jsx("div",{className:t["media-detail-card__content"]})]})}function ee({heading:i,type:n,cardType:r,useQueryHook:o,options:d,adapter:c}){const s=z.useRef(null),[x,l]=z.useState(!0),[g,u]=z.useState(!1),{data:p}=o(d),h=p?c(p):void 0,m=a=>{s.current=a},N=a=>{l(a.isBeginning),u(a.isEnd)},_=z.useCallback(()=>{switch(r){case"media-detail":return h?h.map(a=>e.jsx(q,{navigateTo:a.navigateTo,src:a.imageUrl,alt:a.title,title:a.title,ratings:a.ratings,favorites:a.favorites,summary:a.summary,status:a.status,genres:a.genres},a.key)):Array.from({length:15},()=>({})).map((a,y)=>e.jsx(F,{},y));case"image":default:return h?h.map(a=>e.jsx(O,{navigateTo:a.navigateTo,src:a.imageUrl,alt:a.title,title:a.title,ratings:a.ratings,favorites:a.favorites},a.key)):Array.from({length:15},()=>({})).map((a,y)=>e.jsx(D,{},y))}},[r,h]);return e.jsxs("div",{className:f["horizontal-carousel"],children:[e.jsxs("div",{className:f["horizontal-carousel__header"],children:[e.jsx(v,{as:"h3",font:"typo-primary-l-semibold",className:f["horizontal-carousel__heading"],children:i??""}),e.jsxs("div",{className:f["horizontal-carousel__nav"],children:[e.jsx("button",{className:w({[f["horizontal-carousel__nav-button"]]:!0,[f["horizontal-carousel__nav-button-left"]]:!0}),disabled:x,onClick:()=>{var a;return(a=s.current)==null?void 0:a.slidePrev()},children:e.jsx(J,{size:12,color:"s-color-fg-primary"})}),e.jsx("button",{className:w({[f["horizontal-carousel__nav-button"]]:!0,[f["horizontal-carousel__nav-button-right"]]:!0}),disabled:g,onClick:()=>{var a;return(a=s.current)==null?void 0:a.slideNext()},children:e.jsx(T,{size:12,color:"s-color-fg-primary"})})]})]}),e.jsx(G,{type:n,onSwiper:m,onSlideChange:N,children:_()})]})}export{ee as H,Y as L};
