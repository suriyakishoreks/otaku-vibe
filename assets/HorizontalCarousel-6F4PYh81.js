import{r as z,C as S,j as t,R as k}from"./core-rEzm1Owm.js";import{S as M,A,f as B,a as H}from"./swiper-ChwSAFQL.js";import{S as T,H as D,I as O,a as P}from"./ImageCard-UuIr3CVd.js";import{i as E,L as N,I as U}from"./index-BQ4Kh0p3.js";import{c as C}from"./utility-vendor-Bmmivm0t.js";import{L as Z}from"./react-router-core-OSMjzO9B.js";function G({threshold:n=0,root:e=null,rootMargin:i="0%",freezeOnceVisible:o=!1,initialIsIntersecting:s=!1,onChange:c}={}){var u;const[r,g]=z.useState(null),[_,p]=z.useState(()=>({isIntersecting:s,entry:void 0})),h=z.useRef(null);h.current=c;const m=((u=_.entry)==null?void 0:u.isIntersecting)&&o;z.useEffect(()=>{if(!r||!("IntersectionObserver"in window)||m)return;const f=new IntersectionObserver(a=>{const x=Array.isArray(f.thresholds)?f.thresholds:[f.thresholds];a.forEach(y=>{const j=y.isIntersecting&&x.some(w=>y.intersectionRatio>=w);p({isIntersecting:j,entry:y}),h.current&&h.current(j,y)})},{threshold:n,root:e,rootMargin:i});return f.observe(r),()=>{f.disconnect()}},[r,JSON.stringify(n),e,i,m,o]);const d=z.useRef(null);z.useEffect(()=>{var f;!r&&((f=_.entry)!=null&&f.target)&&!o&&!m&&d.current!==_.entry.target&&(d.current=_.entry.target,p({isIntersecting:s,entry:void 0}))},[r,_.entry,o,m,s]);const l=[g,!!_.isIntersecting,_.entry];return l.ref=l[0],l.isIntersecting=l[1],l.entry=l[2],l}const le=n=>{const e=S.c(11),{children:i,rootMargin:o,threshold:s,estimatedHeight:c,wrapperClassName:r}=n,g=o===void 0?"0px 0px 250px 0px":o,_=s===void 0?0:s;let p;e[0]!==g||e[1]!==_?(p={root:null,rootMargin:g,threshold:_,freezeOnceVisible:!0},e[0]=g,e[1]=_,e[2]=p):p=e[2];const[h,m]=G(p);let d;e[3]!==c||e[4]!==m?(d=m?void 0:{height:c},e[3]=c,e[4]=m,e[5]=d):d=e[5];const l=m?i:null;let u;return e[6]!==d||e[7]!==l||e[8]!==r||e[9]!==h?(u=t.jsx("div",{ref:h,style:d,className:r,children:l}),e[6]=d,e[7]=l,e[8]=r,e[9]=h,e[10]=u):u=e[10],u},J="_swiper_1jtne_1",q="_swiper__slide_1jtne_4",$={swiper:J,swiper__slide:q};function F(n){const e=S.c(16),{onSwiper:i,onSlideChange:o,type:s,children:c}=n,r=s===void 0?"scroll":s;let g;e[0]!==r?(g=r==="centered"?[A]:[B],e[0]=r,e[1]=g):g=e[1];const _=g,p=r==="scroll",h=r==="scroll",m=r==="centered",d=r==="centered";let l;e[2]!==r?(l=r==="centered"?{pauseOnMouseEnter:!0,delay:3e3}:void 0,e[2]=r,e[3]=l):l=e[3];let u;e[4]!==c?(u=c.map(K),e[4]=c,e[5]=u):u=e[5];let f;return e[6]!==_||e[7]!==o||e[8]!==i||e[9]!==p||e[10]!==h||e[11]!==m||e[12]!==d||e[13]!==l||e[14]!==u?(f=t.jsx(H,{onSwiper:i,onSlideChange:o,slidesPerView:"auto",slidesPerGroupAuto:p,freeMode:h,centeredSlides:m,loop:d,spaceBetween:24,autoplay:l,className:$.swiper,modules:_,children:u}),e[6]=_,e[7]=o,e[8]=i,e[9]=p,e[10]=h,e[11]=m,e[12]=d,e[13]=l,e[14]=u,e[15]=f):f=e[15],f}function K(n){return t.jsx(M,{className:$.swiper__slide,children:n})}const b={"horizontal-carousel":"_horizontal-carousel_1je16_158","horizontal-carousel__header":"_horizontal-carousel__header_1je16_161","horizontal-carousel__heading":"_horizontal-carousel__heading_1je16_166","horizontal-carousel__nav":"_horizontal-carousel__nav_1je16_169","horizontal-carousel__nav-button":"_horizontal-carousel__nav-button_1je16_179","horizontal-carousel__nav-button-left":"_horizontal-carousel__nav-button-left_1je16_206","horizontal-carousel__nav-button-right":"_horizontal-carousel__nav-button-right_1je16_209"};function Q(n){const e=S.c(6),{size:i,color:o}=n;let s;e[0]!==o?(s=E(o),e[0]=o,e[1]=s):s=e[1];let c;e[2]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsx("path",{d:"m321-80-71-71 329-329-329-329 71-71 400 400L321-80Z"}),e[2]=c):c=e[2];let r;return e[3]!==i||e[4]!==s?(r=t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:i,viewBox:"0 -960 960 960",width:i,transform:"rotate(180)",fill:s,children:c}),e[3]=i,e[4]=s,e[5]=r):r=e[5],r}function V(n){const e=S.c(6),{size:i,color:o}=n;let s;e[0]!==o?(s=E(o),e[0]=o,e[1]=s):s=e[1];let c;e[2]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsx("path",{d:"m321-80-71-71 329-329-329-329 71-71 400 400L321-80Z"}),e[2]=c):c=e[2];let r;return e[3]!==i||e[4]!==s?(r=t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:i,viewBox:"0 -960 960 960",width:i,fill:s,children:c}),e[3]=i,e[4]=s,e[5]=r):r=e[5],r}const v={"media-detail-card":"_media-detail-card_1ufmn_158","media-detail-card__image-container":"_media-detail-card__image-container_1ufmn_179","media-detail-card__image-gradient":"_media-detail-card__image-gradient_1ufmn_182","media-detail-card__top-overlay":"_media-detail-card__top-overlay_1ufmn_198","media-detail-card__rating":"_media-detail-card__rating_1ufmn_209","media-detail-card__favorite":"_media-detail-card__favorite_1ufmn_215","media-detail-card__image":"_media-detail-card__image_1ufmn_179","media-detail-card__content":"_media-detail-card__content_1ufmn_233","media-detail-card__title":"_media-detail-card__title_1ufmn_246","media-detail-card__summary":"_media-detail-card__summary_1ufmn_264","media-detail-card__status":"_media-detail-card__status_1ufmn_278","media-detail-card__genre-item":"_media-detail-card__genre-item_1ufmn_285","media-detail-card__genre":"_media-detail-card__genre_1ufmn_285","media-detail-card__clickable":"_media-detail-card__clickable_1ufmn_302"};function W(n){const e=S.c(32),{src:i,alt:o,navigateTo:s,title:c,summary:r,ratings:g,favorites:_,status:p,genres:h}=n;let m;e[0]!==s?(m=C(v["media-detail-card"],"no-text-select",{[v["media-detail-card__clickable"]]:s}),e[0]=s,e[1]=m):m=e[1];let d;e[2]===Symbol.for("react.memo_cache_sentinel")?(d=t.jsx("div",{className:v["media-detail-card__image-gradient"]}),e[2]=d):d=e[2];let l;e[3]!==o||e[4]!==i?(l=t.jsx(U,{src:i,alt:o,className:v["media-detail-card__image"]}),e[3]=o,e[4]=i,e[5]=l):l=e[5];let u;e[6]!==_||e[7]!==g?(u=(!!g||!!_)&&t.jsxs("div",{className:v["media-detail-card__top-overlay"],children:[!!g&&t.jsxs("div",{className:v["media-detail-card__rating"],children:[t.jsx(T,{color:"s-color-fg-primary",size:16}),t.jsx(N,{as:"p",font:"typo-primary-s-semibold",children:g})]}),!!_&&t.jsxs("div",{className:v["media-detail-card__favorite"],children:[t.jsx(D,{color:"s-color-fg-primary",size:16}),t.jsx(N,{as:"p",font:"typo-primary-s-semibold",children:_})]})]}),e[6]=_,e[7]=g,e[8]=u):u=e[8];let f;e[9]!==l||e[10]!==u?(f=t.jsxs("div",{className:v["media-detail-card__image-container"],children:[d,l,u]}),e[9]=l,e[10]=u,e[11]=f):f=e[11];let a;e[12]!==c?(a=t.jsx(N,{as:"h4",font:"typo-primary-l-medium",className:v["media-detail-card__title"],children:c}),e[12]=c,e[13]=a):a=e[13];let x;e[14]!==r?(x=!!r&&t.jsx(N,{as:"p",font:"typo-primary-m-regular",className:v["media-detail-card__summary"],children:r}),e[14]=r,e[15]=x):x=e[15];let y;e[16]!==p?(y=!!p&&t.jsx(N,{as:"p",font:"typo-primary-m-regular",className:v["media-detail-card__status"],children:p}),e[16]=p,e[17]=y):y=e[17];let j;e[18]!==h?(j=!!h&&h.length>0&&t.jsx("div",{className:v["media-detail-card__genre"],children:h.map(X)}),e[18]=h,e[19]=j):j=e[19];let w;e[20]!==a||e[21]!==x||e[22]!==y||e[23]!==j?(w=t.jsxs("div",{className:v["media-detail-card__content"],children:[a,x,y,j]}),e[20]=a,e[21]=x,e[22]=y,e[23]=j,e[24]=w):w=e[24];let I;e[25]!==m||e[26]!==w||e[27]!==f?(I=t.jsxs("div",{className:m,children:[f,w]}),e[25]=m,e[26]=w,e[27]=f,e[28]=I):I=e[28];const R=I;let L;return e[29]!==R||e[30]!==s?(L=s?t.jsx(Z,{to:s,children:R}):R,e[29]=R,e[30]=s,e[31]=L):L=e[31],L}function X(n){return t.jsx(N,{as:"p",font:"typo-primary-m-regular",className:v["media-detail-card__genre-item"],children:n},n)}function Y(){const n=S.c(2);let e;n[0]===Symbol.for("react.memo_cache_sentinel")?(e=C(v["media-detail-card"]),n[0]=e):e=n[0];let i;return n[1]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsxs("div",{className:e,children:[t.jsx("div",{className:v["media-detail-card__image-container"],children:t.jsx("div",{className:C(v["media-detail-card__image"])})}),t.jsx("div",{className:v["media-detail-card__content"]})]}),n[1]=i):i=n[1],i}function ne({heading:n,type:e,cardType:i,useQueryHook:o,options:s,adapter:c}){const r=k.useRef(null),[g,_]=k.useState(!0),[p,h]=k.useState(!1),{data:m}=o(s),d=m?c(m):void 0,l=a=>{r.current=a},u=a=>{_(a.isBeginning),h(a.isEnd)},f=k.useCallback(()=>{switch(i){case"media-detail":return d?d.map(a=>t.jsx(W,{navigateTo:a.navigateTo,src:a.imageUrl,alt:a.title,title:a.title,ratings:a.ratings,favorites:a.favorites,summary:a.summary,status:a.status,genres:a.genres},a.key)):Array.from({length:15},()=>({})).map((a,x)=>t.jsx(Y,{},x));case"image":default:return d?d.map(a=>t.jsx(P,{navigateTo:a.navigateTo,src:a.imageUrl,alt:a.title,title:a.title,ratings:a.ratings,favorites:a.favorites},a.key)):Array.from({length:15},()=>({})).map((a,x)=>t.jsx(O,{},x))}},[i,d]);return t.jsxs("div",{className:b["horizontal-carousel"],children:[t.jsxs("div",{className:b["horizontal-carousel__header"],children:[t.jsx(N,{as:"h3",font:"typo-primary-l-semibold",className:b["horizontal-carousel__heading"],children:n??""}),t.jsxs("div",{className:b["horizontal-carousel__nav"],children:[t.jsx("button",{className:C({[b["horizontal-carousel__nav-button"]]:!0,[b["horizontal-carousel__nav-button-left"]]:!0}),disabled:g,onClick:()=>{var a;return(a=r.current)==null?void 0:a.slidePrev()},children:t.jsx(Q,{size:12,color:"s-color-fg-primary"})}),t.jsx("button",{className:C({[b["horizontal-carousel__nav-button"]]:!0,[b["horizontal-carousel__nav-button-right"]]:!0}),disabled:p,onClick:()=>{var a;return(a=r.current)==null?void 0:a.slideNext()},children:t.jsx(V,{size:12,color:"s-color-fg-primary"})})]})]}),t.jsx(F,{type:e,onSwiper:l,onSlideChange:u,children:f()})]})}export{ne as H,le as L};
